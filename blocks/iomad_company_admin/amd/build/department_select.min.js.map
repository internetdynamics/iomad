{"version":3,"file":"department_select.min.js","sources":["../src/department_select.js"],"sourcesContent":["\r\ndefine(['jquery', 'core/tree'], function($, Tree) {\r\n    return {\r\n        // selectname: identify the 'select' form item by name\r\n        // selected: the id of the menu item to initially show bold\r\n        // submitform: 1/0 optionaly submit the form on click\r\n        init: function(selectname, submitform, selected) {\r\n\r\n            // instantiate the tree container\r\n            var tree = new Tree(\"#department_tree\");\r\n\r\n            // Hide the original select element\r\n            //$(\"#id_\" + selectname).hide();\r\n            $(\"select[name=\" + selectname + \"]\").parent().hide();\r\n\r\n            // set the initial selected\r\n            tree.setActiveItem($(\"span[data-id=\"+selected+\"]\"));\r\n\r\n            // get the data and set form\r\n            $(\".tree_dept_name\").click(function(e) {\r\n                if (e.which) {\r\n                    var id = $(this).attr(\"data-id\");\r\n                    $(\"select[name=\" + selectname + \"]\" + \" option[value=\" + id + \"]\").prop(\"selected\", true);\r\n\r\n                    // if there's a form to submit...\r\n                    if (submitform) {\r\n                        $(\"select[name=\" + selectname + \"]\").closest(\"form\").submit();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    };\r\n});\r\n"],"names":["define","$","Tree","init","selectname","submitform","selected","tree","parent","hide","setActiveItem","click","e","which","id","this","attr","prop","closest","submit"],"mappings":"AACAA,qDAAO,CAAC,SAAU,cAAc,SAASC,EAAGC,YACjC,CAIHC,KAAM,SAASC,WAAYC,WAAYC,cAG/BC,KAAO,IAAIL,KAAK,oBAIpBD,EAAE,eAAiBG,WAAa,KAAKI,SAASC,OAG9CF,KAAKG,cAAcT,EAAE,gBAAgBK,SAAS,MAG9CL,EAAE,mBAAmBU,OAAM,SAASC,MAC5BA,EAAEC,MAAO,KACLC,GAAKb,EAAEc,MAAMC,KAAK,WACtBf,EAAE,eAAiBG,WAAjB,kBAAuDU,GAAK,KAAKG,KAAK,YAAY,GAGhFZ,YACAJ,EAAE,eAAiBG,WAAa,KAAKc,QAAQ,QAAQC"}