{"version":3,"file":"company_user.min.js","sources":["../src/company_user.js"],"sourcesContent":["/*\r\n * @package    block_iomad_company_admin\r\n * @copyright  2019 Howard Miller\r\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\r\n */\r\n\r\n /**\r\n  * @module block_iomad_company_admin/company_user\r\n  */\r\n\r\ndefine(['jquery', 'core/ajax', 'core/notification', 'core/modal_factory', 'core/modal_events', 'core/str', 'core/templates'],\r\n    function($, ajax, notification, ModalFactory, ModalEvents, str, templates) {\r\n    return {\r\n        init: function() {\r\n\r\n            // License option updated\r\n            $('#licenseidselector').on('change', function() {\r\n                var licenseid = $(this).val();\r\n                if (licenseid == 0) {\r\n                    $('#licensecoursescontainer').addClass('invisible');\r\n                    return;\r\n                }\r\n\r\n                // Get license details\r\n                ajax.call([{\r\n                    methodname: 'block_iomad_company_admin_get_license_from_id',\r\n                    args: {\r\n                        licenseid: licenseid\r\n                    },\r\n                    done: function(licensedata) {\r\n                        $('#licensecoursescontainer').removeClass('invisible');\r\n\r\n                        templates.render('block_iomad_company_admin/licensecourseselector', licensedata)\r\n                            .then(function(html) {\r\n                                $(\"#licensecourseselector\").html(html);\r\n\r\n                            })\r\n                            .fail(notification.exception);\r\n\r\n                        templates.render('block_iomad_company_admin/licensedetails', licensedata)\r\n                            .then(function(html) {\r\n                                $(\"#licensedetails\").html(html);\r\n                            })\r\n                            .fail(notification.exception);\r\n\r\n                    },\r\n                    fail: notification.exception\r\n                }]);\r\n            });\r\n        }\r\n    };\r\n});\r\n"],"names":["define","$","ajax","notification","ModalFactory","ModalEvents","str","templates","init","on","licenseid","this","val","call","methodname","args","done","licensedata","removeClass","render","then","html","fail","exception","addClass"],"mappings":";;;;;AAUAA,gDAAO,CAAC,SAAU,YAAa,oBAAqB,qBAAsB,oBAAqB,WAAY,mBACvG,SAASC,EAAGC,KAAMC,aAAcC,aAAcC,YAAaC,IAAKC,iBACzD,CACHC,KAAM,WAGFP,EAAE,sBAAsBQ,GAAG,UAAU,eAC7BC,UAAYT,EAAEU,MAAMC,MACP,GAAbF,UAMJR,KAAKW,KAAK,CAAC,CACPC,WAAY,gDACZC,KAAM,CACFL,UAAWA,WAEfM,KAAM,SAASC,aACXhB,EAAE,4BAA4BiB,YAAY,aAE1CX,UAAUY,OAAO,kDAAmDF,aAC/DG,MAAK,SAASC,MACXpB,EAAE,0BAA0BoB,KAAKA,SAGpCC,KAAKnB,aAAaoB,WAEvBhB,UAAUY,OAAO,2CAA4CF,aACxDG,MAAK,SAASC,MACXpB,EAAE,mBAAmBoB,KAAKA,SAE7BC,KAAKnB,aAAaoB,YAG3BD,KAAMnB,aAAaoB,aA3BnBtB,EAAE,4BAA4BuB,SAAS"}