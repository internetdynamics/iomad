{"version":3,"file":"competency_outcomes.min.js","sources":["../src/competency_outcomes.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\r\n//\r\n// Moodle is free software: you can redistribute it and/or modify\r\n// it under the terms of the GNU General Public License as published by\r\n// the Free Software Foundation, either version 3 of the License, or\r\n// (at your option) any later version.\r\n//\r\n// Moodle is distributed in the hope that it will be useful,\r\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n// GNU General Public License for more details.\r\n//\r\n// You should have received a copy of the GNU General Public License\r\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\n/**\r\n * Competency rule config.\r\n *\r\n * @module     tool_lp/competency_outcomes\r\n * @copyright  2015 Frédéric Massart - FMCorz.net\r\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\r\n */\r\n\r\ndefine(['jquery',\r\n        'core/str'],\r\n        function($, Str) {\r\n\r\n    var OUTCOME_NONE = 0,\r\n        OUTCOME_EVIDENCE = 1,\r\n        OUTCOME_COMPLETE = 2,\r\n        OUTCOME_RECOMMEND = 3;\r\n\r\n    return {\r\n\r\n        NONE: OUTCOME_NONE,\r\n        EVIDENCE: OUTCOME_EVIDENCE,\r\n        COMPLETE: OUTCOME_COMPLETE,\r\n        RECOMMEND: OUTCOME_RECOMMEND,\r\n\r\n        /**\r\n         * Get all the outcomes.\r\n         *\r\n         * @return {Object} Indexed by outcome code, contains code and name.\r\n         * @method getAll\r\n         */\r\n        getAll: function() {\r\n            var self = this;\r\n            return Str.get_strings([\r\n                {key: 'competencyoutcome_none', component: 'tool_lp'},\r\n                {key: 'competencyoutcome_evidence', component: 'tool_lp'},\r\n                {key: 'competencyoutcome_recommend', component: 'tool_lp'},\r\n                {key: 'competencyoutcome_complete', component: 'tool_lp'},\r\n            ]).then(function(strings) {\r\n                var outcomes = {};\r\n                outcomes[self.NONE] = {code: self.NONE, name: strings[0]};\r\n                outcomes[self.EVIDENCE] = {code: self.EVIDENCE, name: strings[1]};\r\n                outcomes[self.RECOMMEND] = {code: self.RECOMMEND, name: strings[2]};\r\n                outcomes[self.COMPLETE] = {code: self.COMPLETE, name: strings[3]};\r\n                return outcomes;\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Get the string for an outcome.\r\n         *\r\n         * @param  {Number} id The outcome code.\r\n         * @return {Promise} Resolved with the string.\r\n         * @method getString\r\n         */\r\n        getString: function(id) {\r\n            var self = this,\r\n                all = self.getAll();\r\n\r\n            return all.then(function(outcomes) {\r\n                if (typeof outcomes[id] === 'undefined') {\r\n                    return $.Deferred().reject().promise();\r\n                }\r\n                return outcomes[id].name;\r\n            });\r\n        }\r\n    };\r\n});\r\n"],"names":["define","$","Str","NONE","EVIDENCE","COMPLETE","RECOMMEND","getAll","self","this","get_strings","key","component","then","strings","outcomes","code","name","getString","id","Deferred","reject","promise"],"mappings":";;;;;;;AAuBAA,qCAAO,CAAC,SACA,aACA,SAASC,EAAGC,WAOT,CAEHC,KAPe,EAQfC,SAPmB,EAQnBC,SAPmB,EAQnBC,UAPoB,EAepBC,OAAQ,eACAC,KAAOC,YACJP,IAAIQ,YAAY,CACnB,CAACC,IAAK,yBAA0BC,UAAW,WAC3C,CAACD,IAAK,6BAA8BC,UAAW,WAC/C,CAACD,IAAK,8BAA+BC,UAAW,WAChD,CAACD,IAAK,6BAA8BC,UAAW,aAChDC,MAAK,SAASC,aACTC,SAAW,UACfA,SAASP,KAAKL,MAAQ,CAACa,KAAMR,KAAKL,KAAMc,KAAMH,QAAQ,IACtDC,SAASP,KAAKJ,UAAY,CAACY,KAAMR,KAAKJ,SAAUa,KAAMH,QAAQ,IAC9DC,SAASP,KAAKF,WAAa,CAACU,KAAMR,KAAKF,UAAWW,KAAMH,QAAQ,IAChEC,SAASP,KAAKH,UAAY,CAACW,KAAMR,KAAKH,SAAUY,KAAMH,QAAQ,IACvDC,aAWfG,UAAW,SAASC,WACLV,KACIF,SAEJM,MAAK,SAASE,sBACO,IAAjBA,SAASI,IACTlB,EAAEmB,WAAWC,SAASC,UAE1BP,SAASI,IAAIF"}