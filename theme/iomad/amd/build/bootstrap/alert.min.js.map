{"version":3,"file":"alert.min.js","sources":["../../src/bootstrap/alert.js"],"sourcesContent":["/**\r\n * --------------------------------------------------------------------------\r\n * Bootstrap (v4.6.2): alert.js\r\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\r\n * --------------------------------------------------------------------------\r\n */\r\n\r\nimport $ from 'jquery'\r\nimport Util from './util'\r\n\r\n/**\r\n * Constants\r\n */\r\n\r\nconst NAME = 'alert'\r\nconst VERSION = '4.6.2'\r\nconst DATA_KEY = 'bs.alert'\r\nconst EVENT_KEY = `.${DATA_KEY}`\r\nconst DATA_API_KEY = '.data-api'\r\nconst JQUERY_NO_CONFLICT = $.fn[NAME]\r\n\r\nconst CLASS_NAME_ALERT = 'alert'\r\nconst CLASS_NAME_FADE = 'fade'\r\nconst CLASS_NAME_SHOW = 'show'\r\n\r\nconst EVENT_CLOSE = `close${EVENT_KEY}`\r\nconst EVENT_CLOSED = `closed${EVENT_KEY}`\r\nconst EVENT_CLICK_DATA_API = `click${EVENT_KEY}${DATA_API_KEY}`\r\n\r\nconst SELECTOR_DISMISS = '[data-dismiss=\"alert\"]'\r\n\r\n/**\r\n * Class definition\r\n */\r\n\r\nclass Alert {\r\n  constructor(element) {\r\n    this._element = element\r\n  }\r\n\r\n  // Getters\r\n  static get VERSION() {\r\n    return VERSION\r\n  }\r\n\r\n  // Public\r\n  close(element) {\r\n    let rootElement = this._element\r\n    if (element) {\r\n      rootElement = this._getRootElement(element)\r\n    }\r\n\r\n    const customEvent = this._triggerCloseEvent(rootElement)\r\n\r\n    if (customEvent.isDefaultPrevented()) {\r\n      return\r\n    }\r\n\r\n    this._removeElement(rootElement)\r\n  }\r\n\r\n  dispose() {\r\n    $.removeData(this._element, DATA_KEY)\r\n    this._element = null\r\n  }\r\n\r\n  // Private\r\n  _getRootElement(element) {\r\n    const selector = Util.getSelectorFromElement(element)\r\n    let parent = false\r\n\r\n    if (selector) {\r\n      parent = document.querySelector(selector)\r\n    }\r\n\r\n    if (!parent) {\r\n      parent = $(element).closest(`.${CLASS_NAME_ALERT}`)[0]\r\n    }\r\n\r\n    return parent\r\n  }\r\n\r\n  _triggerCloseEvent(element) {\r\n    const closeEvent = $.Event(EVENT_CLOSE)\r\n\r\n    $(element).trigger(closeEvent)\r\n    return closeEvent\r\n  }\r\n\r\n  _removeElement(element) {\r\n    $(element).removeClass(CLASS_NAME_SHOW)\r\n\r\n    if (!$(element).hasClass(CLASS_NAME_FADE)) {\r\n      this._destroyElement(element)\r\n      return\r\n    }\r\n\r\n    const transitionDuration = Util.getTransitionDurationFromElement(element)\r\n\r\n    $(element)\r\n      .one(Util.TRANSITION_END, event => this._destroyElement(element, event))\r\n      .emulateTransitionEnd(transitionDuration)\r\n  }\r\n\r\n  _destroyElement(element) {\r\n    $(element)\r\n      .detach()\r\n      .trigger(EVENT_CLOSED)\r\n      .remove()\r\n  }\r\n\r\n  // Static\r\n  static _jQueryInterface(config) {\r\n    return this.each(function () {\r\n      const $element = $(this)\r\n      let data = $element.data(DATA_KEY)\r\n\r\n      if (!data) {\r\n        data = new Alert(this)\r\n        $element.data(DATA_KEY, data)\r\n      }\r\n\r\n      if (config === 'close') {\r\n        data[config](this)\r\n      }\r\n    })\r\n  }\r\n\r\n  static _handleDismiss(alertInstance) {\r\n    return function (event) {\r\n      if (event) {\r\n        event.preventDefault()\r\n      }\r\n\r\n      alertInstance.close(this)\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Data API implementation\r\n */\r\n\r\n$(document).on(\r\n  EVENT_CLICK_DATA_API,\r\n  SELECTOR_DISMISS,\r\n  Alert._handleDismiss(new Alert())\r\n)\r\n\r\n/**\r\n * jQuery\r\n */\r\n\r\n$.fn[NAME] = Alert._jQueryInterface\r\n$.fn[NAME].Constructor = Alert\r\n$.fn[NAME].noConflict = () => {\r\n  $.fn[NAME] = JQUERY_NO_CONFLICT\r\n  return Alert._jQueryInterface\r\n}\r\n\r\nexport default Alert\r\n"],"names":["EVENT_KEY","JQUERY_NO_CONFLICT","$","fn","EVENT_CLOSE","EVENT_CLOSED","EVENT_CLICK_DATA_API","Alert","constructor","element","_element","VERSION","close","rootElement","this","_getRootElement","_triggerCloseEvent","isDefaultPrevented","_removeElement","dispose","removeData","selector","Util","getSelectorFromElement","parent","document","querySelector","closest","closeEvent","Event","trigger","removeClass","hasClass","_destroyElement","transitionDuration","getTransitionDurationFromElement","one","TRANSITION_END","event","emulateTransitionEnd","detach","remove","config","each","$element","data","alertInstance","preventDefault","on","_handleDismiss","_jQueryInterface","Constructor","noConflict"],"mappings":"yVAiBMA,qBADW,YAGXC,mBAAqBC,gBAAEC,GAAF,MAMrBC,2BAAsBJ,WACtBK,6BAAwBL,WACxBM,oCAA+BN,kBAThB,mBAiBfO,MACJC,YAAYC,cACLC,SAAWD,QAIPE,2BA1BG,QA+BdC,MAAMH,aACAI,YAAcC,KAAKJ,SACnBD,UACFI,YAAcC,KAAKC,gBAAgBN,UAGjBK,KAAKE,mBAAmBH,aAE5BI,2BAIXC,eAAeL,aAGtBM,0BACIC,WAAWN,KAAKJ,SA9CL,iBA+CRA,SAAW,KAIlBK,gBAAgBN,eACRY,SAAWC,cAAKC,uBAAuBd,aACzCe,QAAS,SAETH,WACFG,OAASC,SAASC,cAAcL,WAG7BG,SACHA,QAAS,mBAAEf,SAASkB,mBAvDD,UAuDiC,IAG/CH,OAGTR,mBAAmBP,eACXmB,WAAa1B,gBAAE2B,MAAMzB,uCAEzBK,SAASqB,QAAQF,YACZA,WAGTV,eAAeT,gCACXA,SAASsB,YAnES,UAqEf,mBAAEtB,SAASuB,SAtEI,yBAuEbC,gBAAgBxB,eAIjByB,mBAAqBZ,cAAKa,iCAAiC1B,6BAE/DA,SACC2B,IAAId,cAAKe,gBAAgBC,OAASxB,KAAKmB,gBAAgBxB,QAAS6B,SAChEC,qBAAqBL,oBAG1BD,gBAAgBxB,6BACZA,SACC+B,SACAV,QAAQzB,cACRoC,iCAImBC,eACf5B,KAAK6B,MAAK,iBACTC,UAAW,mBAAE9B,UACf+B,KAAOD,SAASC,KAnGT,YAqGNA,OACHA,KAAO,IAAItC,MAAMO,MACjB8B,SAASC,KAvGA,WAuGeA,OAGX,UAAXH,QACFG,KAAKH,QAAQ5B,+BAKGgC,sBACb,SAAUR,OACXA,OACFA,MAAMS,iBAGRD,cAAclC,MAAME,4BASxBW,UAAUuB,GACV1C,qBAnHuB,yBAqHvBC,MAAM0C,eAAe,IAAI1C,wBAOzBJ,GAAF,MAAaI,MAAM2C,iCACjB/C,GAAF,MAAWgD,YAAc5C,sBACvBJ,GAAF,MAAWiD,WAAa,qBACpBjD,GAAF,MAAaF,mBACNM,MAAM2C,+BAGA3C"}