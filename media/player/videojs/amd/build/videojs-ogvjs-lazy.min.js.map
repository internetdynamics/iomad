{"version":3,"file":"videojs-ogvjs-lazy.min.js","sources":["../src/videojs-ogvjs-lazy.js"],"sourcesContent":["/**\r\n * videojs-ogvjs\r\n * @version 0.1.2\r\n * @copyright 2021 Huong Nguyen <huongnv13@gmail.com>\r\n * @license MIT\r\n */\r\n/*! @name videojs-ogvjs @version 0.1.2 @license MIT */\r\n(function (global, factory) {\r\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('video.js'), require('OGVCompat'), require('OGVLoader'), require('OGVPlayer')) :\r\n\ttypeof define === 'function' && define.amd ? define(['media_videojs/video-lazy', './local/ogv/ogv'], factory) :\r\n\t(global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.videojsOgvjs = factory(global.videojs, global.OGVCompat, global.OGVLoader, global.OGVPlayer));\r\n}(this, (function (videojs, ogvBase) { 'use strict';\r\n\r\n\tfunction _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }\r\n\r\n\tvar videojs__default = /*#__PURE__*/_interopDefaultLegacy(videojs);\r\n\tvar OGVCompat__default = /*#__PURE__*/_interopDefaultLegacy(ogvBase.OGVCompat);\r\n\tvar OGVLoader__default = /*#__PURE__*/_interopDefaultLegacy(ogvBase.OGVLoader);\r\n\tvar OGVPlayer__default = /*#__PURE__*/_interopDefaultLegacy(ogvBase.OGVPlayer);\r\n\r\n\tfunction createCommonjsModule(fn, basedir, module) {\r\n\t\treturn module = {\r\n\t\t  path: basedir,\r\n\t\t  exports: {},\r\n\t\t  require: function (path, base) {\r\n\t      return commonjsRequire(path, (base === undefined || base === null) ? module.path : base);\r\n\t    }\r\n\t\t}, fn(module, module.exports), module.exports;\r\n\t}\r\n\r\n\tfunction commonjsRequire () {\r\n\t\tthrow new Error('Dynamic requires are not currently supported by @rollup/plugin-commonjs');\r\n\t}\r\n\r\n\tvar setPrototypeOf = createCommonjsModule(function (module) {\r\n\t  function _setPrototypeOf(o, p) {\r\n\t    module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\r\n\t      o.__proto__ = p;\r\n\t      return o;\r\n\t    };\r\n\r\n\t    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\r\n\t    return _setPrototypeOf(o, p);\r\n\t  }\r\n\r\n\t  module.exports = _setPrototypeOf;\r\n\t  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\r\n\t});\r\n\r\n\tvar inheritsLoose = createCommonjsModule(function (module) {\r\n\t  function _inheritsLoose(subClass, superClass) {\r\n\t    subClass.prototype = Object.create(superClass.prototype);\r\n\t    subClass.prototype.constructor = subClass;\r\n\t    setPrototypeOf(subClass, superClass);\r\n\t  }\r\n\r\n\t  module.exports = _inheritsLoose;\r\n\t  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\r\n\t});\r\n\r\n\tvar Tech = videojs__default['default'].getComponent('Tech');\r\n\tvar androidOS = 'Android';\r\n\tvar iPhoneOS = 'iPhoneOS';\r\n\tvar iPadOS = 'iPadOS';\r\n\tvar otherOS = 'Other';\r\n\t/**\r\n\t * Object.defineProperty but \"lazy\", which means that the value is only set after\r\n\t * it retrieved the first time, rather than being set right away.\r\n\t *\r\n\t * @param {Object} obj the object to set the property on.\r\n\t * @param {string} key the key for the property to set.\r\n\t * @param {Function} getValue the function used to get the value when it is needed.\r\n\t * @param {boolean} setter whether a setter should be allowed or not.\r\n\t */\r\n\r\n\tvar defineLazyProperty = function defineLazyProperty(obj, key, getValue, setter) {\r\n\t  if (setter === void 0) {\r\n\t    setter = true;\r\n\t  }\r\n\r\n\t  var set = function set(value) {\r\n\t    Object.defineProperty(obj, key, {\r\n\t      value: value,\r\n\t      enumerable: true,\r\n\t      writable: true\r\n\t    });\r\n\t  };\r\n\r\n\t  var options = {\r\n\t    configurable: true,\r\n\t    enumerable: true,\r\n\t    get: function get() {\r\n\t      var value = getValue();\r\n\t      set(value);\r\n\t      return value;\r\n\t    }\r\n\t  };\r\n\r\n\t  if (setter) {\r\n\t    options.set = set;\r\n\t  }\r\n\r\n\t  return Object.defineProperty(obj, key, options);\r\n\t};\r\n\t/**\r\n\t * Get the device's OS.\r\n\t *\r\n\t * @return {string} Device's OS.\r\n\t */\r\n\r\n\r\n\tvar getDeviceOS = function getDeviceOS() {\r\n\t  /* global navigator */\r\n\t  var ua = navigator.userAgent;\r\n\r\n\t  if (/android/i.test(ua)) {\r\n\t    return androidOS;\r\n\t  } else if (/iPad|iPhone|iPod/.test(ua)) {\r\n\t    return iPhoneOS;\r\n\t  } else if (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1) {\r\n\t    return iPadOS;\r\n\t  }\r\n\r\n\t  return otherOS;\r\n\t};\r\n\t/**\r\n\t * OgvJS Media Controller - Wrapper for ogv.js Media API\r\n\t *\r\n\t * @mixes Tech~SourceHandlerAdditions\r\n\t * @extends Tech\r\n\t */\r\n\r\n\r\n\tvar OgvJS = /*#__PURE__*/function (_Tech) {\r\n\t  inheritsLoose(OgvJS, _Tech);\r\n\r\n\t  /**\r\n\t   * Create an instance of this Tech.\r\n\t   *\r\n\t   * @param {Object} [options] The key/value store of player options.\r\n\t   * @param {Component~ReadyCallback} ready Callback function to call when the `OgvJS` Tech is ready.\r\n\t   */\r\n\t  function OgvJS(options, ready) {\r\n\t    var _this;\r\n\r\n\t    _this = _Tech.call(this, options, ready) || this;\r\n\t    _this.el_.src = options.source.src;\r\n\t    OgvJS.setIfAvailable(_this.el_, 'autoplay', options.autoplay);\r\n\t    OgvJS.setIfAvailable(_this.el_, 'loop', options.loop);\r\n\t    OgvJS.setIfAvailable(_this.el_, 'poster', options.poster);\r\n\t    OgvJS.setIfAvailable(_this.el_, 'preload', options.preload);\r\n\r\n\t    _this.on('loadedmetadata', function () {\r\n\t      if (getDeviceOS() === iPhoneOS) {\r\n\t        // iPhoneOS add some inline styles to the canvas, we need to remove it.\r\n\t        var canvas = this.el_.getElementsByTagName('canvas')[0];\r\n\t        canvas.style.removeProperty('width');\r\n\t        canvas.style.removeProperty('margin');\r\n\t      }\r\n\r\n\t      this.triggerReady();\r\n\t    });\r\n\r\n\t    return _this;\r\n\t  }\r\n\t  /**\r\n\t   * Create the 'OgvJS' Tech's DOM element.\r\n\t   *\r\n\t   * @return {Element} The element that gets created.\r\n\t   */\r\n\r\n\r\n\t  var _proto = OgvJS.prototype;\r\n\r\n\t  _proto.createEl = function createEl() {\r\n\t    var options = this.options_;\r\n\r\n\t    if (options.base) {\r\n\t      OGVLoader__default['default'].base = options.base;\r\n\t    } else {\r\n\t      throw new Error('Please specify the base for the ogv.js library');\r\n\t    }\r\n\r\n\t    var el = new OGVPlayer__default['default'](options);\r\n\t    el.className += ' vjs-tech';\r\n\t    options.tag = el;\r\n\t    return el;\r\n\t  }\r\n\t  /**\r\n\t   * Start playback\r\n\t   *\r\n\t   * @method play\r\n\t   */\r\n\t  ;\r\n\r\n\t  _proto.play = function play() {\r\n\t    this.el_.play();\r\n\t  }\r\n\t  /**\r\n\t   * Get the current playback speed.\r\n\t   *\r\n\t   * @return {number}\r\n\t   * @method playbackRate\r\n\t   */\r\n\t  ;\r\n\r\n\t  _proto.playbackRate = function playbackRate() {\r\n\t    return this.el_.playbackRate || 1;\r\n\t  }\r\n\t  /**\r\n\t   * Set the playback speed.\r\n\t   *\r\n\t   * @param {number} val Speed for the player to play.\r\n\t   * @method setPlaybackRate\r\n\t   */\r\n\t  ;\r\n\r\n\t  _proto.setPlaybackRate = function setPlaybackRate(val) {\r\n\t    if (this.el_.hasOwnProperty('playbackRate')) {\r\n\t      this.el_.playbackRate = val;\r\n\t    }\r\n\t  }\r\n\t  /**\r\n\t   * Returns a TimeRanges object that represents the ranges of the media resource that the user agent has played.\r\n\t   *\r\n\t   * @return {TimeRangeObject} the range of points on the media timeline that has been reached through normal playback\r\n\t   */\r\n\t  ;\r\n\r\n\t  _proto.played = function played() {\r\n\t    return this.el_.played;\r\n\t  }\r\n\t  /**\r\n\t   * Pause playback\r\n\t   *\r\n\t   * @method pause\r\n\t   */\r\n\t  ;\r\n\r\n\t  _proto.pause = function pause() {\r\n\t    this.el_.pause();\r\n\t  }\r\n\t  /**\r\n\t   * Is the player paused or not.\r\n\t   *\r\n\t   * @return {boolean}\r\n\t   * @method paused\r\n\t   */\r\n\t  ;\r\n\r\n\t  _proto.paused = function paused() {\r\n\t    return this.el_.paused;\r\n\t  }\r\n\t  /**\r\n\t   * Get current playing time.\r\n\t   *\r\n\t   * @return {number}\r\n\t   * @method currentTime\r\n\t   */\r\n\t  ;\r\n\r\n\t  _proto.currentTime = function currentTime() {\r\n\t    return this.el_.currentTime;\r\n\t  }\r\n\t  /**\r\n\t   * Set current playing time.\r\n\t   *\r\n\t   * @param {number} seconds Current time of audio/video.\r\n\t   * @method setCurrentTime\r\n\t   */\r\n\t  ;\r\n\r\n\t  _proto.setCurrentTime = function setCurrentTime(seconds) {\r\n\t    try {\r\n\t      this.el_.currentTime = seconds;\r\n\t    } catch (e) {\r\n\t      videojs__default['default'].log(e, 'Media is not ready. (Video.JS)');\r\n\t    }\r\n\t  }\r\n\t  /**\r\n\t   * Get media's duration.\r\n\t   *\r\n\t   * @return {number}\r\n\t   * @method duration\r\n\t   */\r\n\t  ;\r\n\r\n\t  _proto.duration = function duration() {\r\n\t    if (this.el_.duration && this.el_.duration !== Infinity) {\r\n\t      return this.el_.duration;\r\n\t    }\r\n\r\n\t    return 0;\r\n\t  }\r\n\t  /**\r\n\t   * Get a TimeRange object that represents the intersection\r\n\t   * of the time ranges for which the user agent has all\r\n\t   * relevant media.\r\n\t   *\r\n\t   * @return {TimeRangeObject}\r\n\t   * @method buffered\r\n\t   */\r\n\t  ;\r\n\r\n\t  _proto.buffered = function buffered() {\r\n\t    return this.el_.buffered;\r\n\t  }\r\n\t  /**\r\n\t   * Get current volume level.\r\n\t   *\r\n\t   * @return {number}\r\n\t   * @method volume\r\n\t   */\r\n\t  ;\r\n\r\n\t  _proto.volume = function volume() {\r\n\t    return this.el_.hasOwnProperty('volume') ? this.el_.volume : 1;\r\n\t  }\r\n\t  /**\r\n\t   * Set current playing volume level.\r\n\t   *\r\n\t   * @param {number} percentAsDecimal Volume percent as a decimal.\r\n\t   * @method setVolume\r\n\t   */\r\n\t  ;\r\n\r\n\t  _proto.setVolume = function setVolume(percentAsDecimal) {\r\n\t    if (getDeviceOS() !== iPhoneOS && this.el_.hasOwnProperty('volume')) {\r\n\t      this.el_.volume = percentAsDecimal;\r\n\t    }\r\n\t  }\r\n\t  /**\r\n\t   * Is the player muted or not.\r\n\t   *\r\n\t   * @return {boolean}\r\n\t   * @method muted\r\n\t   */\r\n\t  ;\r\n\r\n\t  _proto.muted = function muted() {\r\n\t    return this.el_.muted;\r\n\t  }\r\n\t  /**\r\n\t   * Mute the player.\r\n\t   *\r\n\t   * @param {boolean} muted True to mute the player.\r\n\t   */\r\n\t  ;\r\n\r\n\t  _proto.setMuted = function setMuted(muted) {\r\n\t    this.el_.muted = !!muted;\r\n\t  }\r\n\t  /**\r\n\t   * Is the player muted by default or not.\r\n\t   *\r\n\t   * @return {boolean}\r\n\t   * @method defaultMuted\r\n\t   */\r\n\t  ;\r\n\r\n\t  _proto.defaultMuted = function defaultMuted() {\r\n\t    return this.el_.defaultMuted || false;\r\n\t  }\r\n\t  /**\r\n\t   * Get the player width.\r\n\t   *\r\n\t   * @return {number}\r\n\t   * @method width\r\n\t   */\r\n\t  ;\r\n\r\n\t  _proto.width = function width() {\r\n\t    return this.el_.offsetWidth;\r\n\t  }\r\n\t  /**\r\n\t   * Get the player height.\r\n\t   *\r\n\t   * @return {number}\r\n\t   * @method height\r\n\t   */\r\n\t  ;\r\n\r\n\t  _proto.height = function height() {\r\n\t    return this.el_.offsetHeight;\r\n\t  }\r\n\t  /**\r\n\t   * Get the video width.\r\n\t   *\r\n\t   * @return {number}\r\n\t   * @method videoWidth\r\n\t   */\r\n\t  ;\r\n\r\n\t  _proto.videoWidth = function videoWidth() {\r\n\t    return this.el_.videoWidth;\r\n\t  }\r\n\t  /**\r\n\t   * Get the video height.\r\n\t   *\r\n\t   * @return {number}\r\n\t   * @method videoHeight\r\n\t   */\r\n\t  ;\r\n\r\n\t  _proto.videoHeight = function videoHeight() {\r\n\t    return this.el_.videoHeight;\r\n\t  }\r\n\t  /**\r\n\t   * Get/set media source.\r\n\t   *\r\n\t   * @param {Object=} src Source object\r\n\t   * @return {Object}\r\n\t   * @method src\r\n\t   */\r\n\t  ;\r\n\r\n\t  _proto.src = function src(_src) {\r\n\t    if (typeof _src === 'undefined') {\r\n\t      return this.el_.src;\r\n\t    }\r\n\r\n\t    this.el_.src = _src;\r\n\t  }\r\n\t  /**\r\n\t   * Load the media into the player.\r\n\t   *\r\n\t   * @method load\r\n\t   */\r\n\t  ;\r\n\r\n\t  _proto.load = function load() {\r\n\t    this.el_.load();\r\n\t  }\r\n\t  /**\r\n\t   * Get current media source.\r\n\t   *\r\n\t   * @return {Object}\r\n\t   * @method currentSrc\r\n\t   */\r\n\t  ;\r\n\r\n\t  _proto.currentSrc = function currentSrc() {\r\n\t    if (this.currentSource_) {\r\n\t      return this.currentSource_.src;\r\n\t    }\r\n\r\n\t    return this.el_.currentSrc;\r\n\t  }\r\n\t  /**\r\n\t   * Get media poster URL.\r\n\t   *\r\n\t   * @return {string}\r\n\t   * @method poster\r\n\t   */\r\n\t  ;\r\n\r\n\t  _proto.poster = function poster() {\r\n\t    return this.el_.poster;\r\n\t  }\r\n\t  /**\r\n\t   * Set media poster URL.\r\n\t   *\r\n\t   * @param {string} url the poster image's url.\r\n\t   * @method\r\n\t   */\r\n\t  ;\r\n\r\n\t  _proto.setPoster = function setPoster(url) {\r\n\t    this.el_.poster = url;\r\n\t  }\r\n\t  /**\r\n\t   * Is the media preloaded or not.\r\n\t   *\r\n\t   * @return {string}\r\n\t   * @method preload\r\n\t   */\r\n\t  ;\r\n\r\n\t  _proto.preload = function preload() {\r\n\t    return this.el_.preload || 'none';\r\n\t  }\r\n\t  /**\r\n\t   * Set the media preload method.\r\n\t   *\r\n\t   * @param {string} val Value for preload attribute.\r\n\t   * @method setPreload\r\n\t   */\r\n\t  ;\r\n\r\n\t  _proto.setPreload = function setPreload(val) {\r\n\t    if (this.el_.hasOwnProperty('preload')) {\r\n\t      this.el_.preload = val;\r\n\t    }\r\n\t  }\r\n\t  /**\r\n\t   * Is the media auto-played or not.\r\n\t   *\r\n\t   * @return {boolean}\r\n\t   * @method autoplay\r\n\t   */\r\n\t  ;\r\n\r\n\t  _proto.autoplay = function autoplay() {\r\n\t    return this.el_.autoplay || false;\r\n\t  }\r\n\t  /**\r\n\t   * Set media autoplay method.\r\n\t   *\r\n\t   * @param {boolean} val Value for autoplay attribute.\r\n\t   * @method setAutoplay\r\n\t   */\r\n\t  ;\r\n\r\n\t  _proto.setAutoplay = function setAutoplay(val) {\r\n\t    if (this.el_.hasOwnProperty('autoplay')) {\r\n\t      this.el_.autoplay = !!val;\r\n\t    }\r\n\t  }\r\n\t  /**\r\n\t   * Does the media has controls or not.\r\n\t   *\r\n\t   * @return {boolean}\r\n\t   * @method controls\r\n\t   */\r\n\t  ;\r\n\r\n\t  _proto.controls = function controls() {\r\n\t    return this.el_.controls || false;\r\n\t  }\r\n\t  /**\r\n\t   * Set the media controls method.\r\n\t   *\r\n\t   * @param {boolean} val Value for controls attribute.\r\n\t   * @method setControls\r\n\t   */\r\n\t  ;\r\n\r\n\t  _proto.setControls = function setControls(val) {\r\n\t    if (this.el_.hasOwnProperty('controls')) {\r\n\t      this.el_.controls = !!val;\r\n\t    }\r\n\t  }\r\n\t  /**\r\n\t   * Is the media looped or not.\r\n\t   *\r\n\t   * @return {boolean}\r\n\t   * @method loop\r\n\t   */\r\n\t  ;\r\n\r\n\t  _proto.loop = function loop() {\r\n\t    return this.el_.loop || false;\r\n\t  }\r\n\t  /**\r\n\t   * Set the media loop method.\r\n\t   *\r\n\t   * @param {boolean} val Value for loop attribute.\r\n\t   * @method setLoop\r\n\t   */\r\n\t  ;\r\n\r\n\t  _proto.setLoop = function setLoop(val) {\r\n\t    if (this.el_.hasOwnProperty('loop')) {\r\n\t      this.el_.loop = !!val;\r\n\t    }\r\n\t  }\r\n\t  /**\r\n\t   * Get a TimeRanges object that represents the\r\n\t   * ranges of the media resource to which it is possible\r\n\t   * for the user agent to seek.\r\n\t   *\r\n\t   * @return {TimeRangeObject}\r\n\t   * @method seekable\r\n\t   */\r\n\t  ;\r\n\r\n\t  _proto.seekable = function seekable() {\r\n\t    return this.el_.seekable;\r\n\t  }\r\n\t  /**\r\n\t   * Is player in the \"seeking\" state or not.\r\n\t   *\r\n\t   * @return {boolean}\r\n\t   * @method seeking\r\n\t   */\r\n\t  ;\r\n\r\n\t  _proto.seeking = function seeking() {\r\n\t    return this.el_.seeking;\r\n\t  }\r\n\t  /**\r\n\t   * Is the media ended or not.\r\n\t   *\r\n\t   * @return {boolean}\r\n\t   * @method ended\r\n\t   */\r\n\t  ;\r\n\r\n\t  _proto.ended = function ended() {\r\n\t    return this.el_.ended;\r\n\t  }\r\n\t  /**\r\n\t   * Get the current state of network activity\r\n\t   * NETWORK_EMPTY (numeric value 0)\r\n\t   * NETWORK_IDLE (numeric value 1)\r\n\t   * NETWORK_LOADING (numeric value 2)\r\n\t   * NETWORK_NO_SOURCE (numeric value 3)\r\n\t   *\r\n\t   * @return {number}\r\n\t   * @method networkState\r\n\t   */\r\n\t  ;\r\n\r\n\t  _proto.networkState = function networkState() {\r\n\t    return this.el_.networkState;\r\n\t  }\r\n\t  /**\r\n\t   * Get the current state of the player.\r\n\t   * HAVE_NOTHING (numeric value 0)\r\n\t   * HAVE_METADATA (numeric value 1)\r\n\t   * HAVE_CURRENT_DATA (numeric value 2)\r\n\t   * HAVE_FUTURE_DATA (numeric value 3)\r\n\t   * HAVE_ENOUGH_DATA (numeric value 4)\r\n\t   *\r\n\t   * @return {number}\r\n\t   * @method readyState\r\n\t   */\r\n\t  ;\r\n\r\n\t  _proto.readyState = function readyState() {\r\n\t    return this.el_.readyState;\r\n\t  }\r\n\t  /**\r\n\t   * Does the player support native fullscreen mode or not. (Mobile devices)\r\n\t   *\r\n\t   * @return {boolean}\r\n\t   */\r\n\t  ;\r\n\r\n\t  _proto.supportsFullScreen = function supportsFullScreen() {\r\n\t    // iOS devices have some problem with HTML5 fullscreen api so we need to fallback to fullWindow mode.\r\n\t    return false;\r\n\t  }\r\n\t  /**\r\n\t   * Get media player error.\r\n\t   *\r\n\t   * @return {string}\r\n\t   * @method error\r\n\t   */\r\n\t  ;\r\n\r\n\t  _proto.error = function error() {\r\n\t    return this.el_.error;\r\n\t  };\r\n\r\n\t  return OgvJS;\r\n\t}(Tech);\r\n\t/**\r\n\t * List of available events of the media player.\r\n\t *\r\n\t * @private\r\n\t * @type {Array}\r\n\t */\r\n\r\n\r\n\tOgvJS.Events = ['loadstart', 'suspend', 'abort', 'error', 'emptied', 'stalled', 'loadedmetadata', 'loadeddata', 'canplay', 'canplaythrough', 'playing', 'waiting', 'seeking', 'seeked', 'ended', 'durationchange', 'timeupdate', 'progress', 'play', 'pause', 'ratechange', 'resize', 'volumechange'];\r\n\t/**\r\n\t * Set the value for the player is it has that property.\r\n\t *\r\n\t * @param {Element} el\r\n\t * @param {string} name\r\n\t * @param value\r\n\t */\r\n\r\n\tOgvJS.setIfAvailable = function (el, name, value) {\r\n\t  if (el.hasOwnProperty(name)) {\r\n\t    el[name] = value;\r\n\t  }\r\n\t};\r\n\t/**\r\n\t * Check if browser/device is supported by Ogv.JS.\r\n\t *\r\n\t * @return {boolean}\r\n\t */\r\n\r\n\r\n\tOgvJS.isSupported = function () {\r\n\t  return OGVCompat__default['default'].supported('OGVPlayer');\r\n\t};\r\n\t/**\r\n\t * Check if the tech can support the given type.\r\n\t *\r\n\t * @param {string} type The mimetype to check\r\n\t * @return {string} 'probably', 'maybe', or '' (empty string)\r\n\t */\r\n\r\n\r\n\tOgvJS.canPlayType = function (type) {\r\n\t  return type.indexOf('/ogg') !== -1 || type.indexOf('/webm') ? 'maybe' : '';\r\n\t};\r\n\t/**\r\n\t * Check if the tech can support the given source\r\n\t *\r\n\t * @param srcObj The source object\r\n\t * @return {string} The options passed to the tech\r\n\t */\r\n\r\n\r\n\tOgvJS.canPlaySource = function (srcObj) {\r\n\t  return OgvJS.canPlayType(srcObj.type);\r\n\t};\r\n\t/**\r\n\t * Check if the volume can be changed in this browser/device.\r\n\t * Volume cannot be changed in a lot of mobile devices.\r\n\t * Specifically, it can't be changed from 1 on iOS.\r\n\t *\r\n\t * @return {boolean} True if volume can be controlled.\r\n\t */\r\n\r\n\r\n\tOgvJS.canControlVolume = function () {\r\n\t  if (getDeviceOS() === iPhoneOS) {\r\n\t    return false;\r\n\t  }\r\n\r\n\t  var p = new OGVPlayer__default['default']();\r\n\t  return p.hasOwnProperty('volume');\r\n\t};\r\n\t/**\r\n\t * Check if the volume can be muted in this browser/device.\r\n\t *\r\n\t * @return {boolean} True if volume can be muted.\r\n\t */\r\n\r\n\r\n\tOgvJS.canMuteVolume = function () {\r\n\t  return true;\r\n\t};\r\n\t/**\r\n\t * Check if the playback rate can be changed in this browser/device.\r\n\t *\r\n\t * @return {boolean} True if playback rate can be controlled.\r\n\t */\r\n\r\n\r\n\tOgvJS.canControlPlaybackRate = function () {\r\n\t  return true;\r\n\t};\r\n\t/**\r\n\t * Check to see if native 'TextTracks' are supported by this browser/device.\r\n\t *\r\n\t * @return {boolean} True if native 'TextTracks' are supported.\r\n\t */\r\n\r\n\r\n\tOgvJS.supportsNativeTextTracks = function () {\r\n\t  return false;\r\n\t};\r\n\t/**\r\n\t * Check if the fullscreen resize is supported by this browser/device.\r\n\t *\r\n\t * @return {boolean} True if the fullscreen resize is supported.\r\n\t */\r\n\r\n\r\n\tOgvJS.supportsFullscreenResize = function () {\r\n\t  return true;\r\n\t};\r\n\t/**\r\n\t * Check if the progress events is supported by this browser/device.\r\n\t *\r\n\t * @return {boolean} True if the progress events is supported.\r\n\t */\r\n\r\n\r\n\tOgvJS.supportsProgressEvents = function () {\r\n\t  return true;\r\n\t};\r\n\t/**\r\n\t * Check if the time update events is supported by this browser/device.\r\n\t *\r\n\t * @return {boolean} True if the time update events is supported.\r\n\t */\r\n\r\n\r\n\tOgvJS.supportsTimeupdateEvents = function () {\r\n\t  return true;\r\n\t};\r\n\t/**\r\n\t * Boolean indicating whether the 'OgvJS' tech supports volume control.\r\n\t *\r\n\t * @type {boolean}\r\n\t * @default {@link OgvJS.canControlVolume}\r\n\t */\r\n\r\n\t/**\r\n\t * Boolean indicating whether the 'OgvJS' tech supports muting volume.\r\n\t *\r\n\t * @type {boolean}\r\n\t * @default {@link OgvJS.canMuteVolume}\r\n\t */\r\n\r\n\t/**\r\n\t * Boolean indicating whether the 'OgvJS' tech supports changing the speed at which the media plays.\r\n\t * Examples:\r\n\t *   - Set player to play 2x (twice) as fast.\r\n\t *   - Set player to play 0.5x (half) as fast.\r\n\t *\r\n\t * @type {boolean}\r\n\t * @default {@link OgvJS.canControlPlaybackRate}\r\n\t */\r\n\r\n\t/**\r\n\t * Boolean indicating whether the 'OgvJS' tech currently supports native 'TextTracks'.\r\n\t *\r\n\t * @type {boolean}\r\n\t * @default {@link OgvJS.supportsNativeTextTracks}\r\n\t */\r\n\r\n\t/**\r\n\t * Boolean indicating whether the 'OgvJS' tech currently supports fullscreen resize.\r\n\t *\r\n\t * @type {boolean}\r\n\t * @default {@link OgvJS.supportsFullscreenResize}\r\n\t */\r\n\r\n\t/**\r\n\t * Boolean indicating whether the 'OgvJS' tech currently supports progress events.\r\n\t *\r\n\t * @type {boolean}\r\n\t * @default {@link OgvJS.supportsProgressEvents}\r\n\t */\r\n\r\n\t/**\r\n\t * Boolean indicating whether the 'OgvJS' tech currently supports time update events.\r\n\t *\r\n\t * @type {boolean}\r\n\t * @default {@link OgvJS.supportsTimeupdateEvents}\r\n\t */\r\n\r\n\r\n\t[['featuresVolumeControl', 'canControlVolume'], ['featuresMuteControl', 'canMuteVolume'], ['featuresPlaybackRate', 'canControlPlaybackRate'], ['featuresNativeTextTracks', 'supportsNativeTextTracks'], ['featuresFullscreenResize', 'supportsFullscreenResize'], ['featuresProgressEvents', 'supportsProgressEvents'], ['featuresTimeupdateEvents', 'supportsTimeupdateEvents']].forEach(function (_ref) {\r\n\t  var key = _ref[0],\r\n\t      fn = _ref[1];\r\n\t  defineLazyProperty(OgvJS.prototype, key, function () {\r\n\t    OgvJS[fn]();\r\n\t  }, true);\r\n\t});\r\n\tTech.registerTech('OgvJS', OgvJS);\r\n\r\n\treturn OgvJS;\r\n\r\n})));\r\n"],"names":["global","factory","this","videojs","ogvBase","_interopDefaultLegacy","e","videojs__default","OGVCompat__default","OGVCompat","OGVLoader__default","OGVLoader","OGVPlayer__default","OGVPlayer","createCommonjsModule","fn","basedir","module","path","exports","require","base","Error","commonjsRequire","setPrototypeOf","_setPrototypeOf","o","p","Object","__proto__","__esModule","inheritsLoose","subClass","superClass","prototype","create","constructor","Tech","getComponent","getDeviceOS","ua","navigator","userAgent","test","platform","maxTouchPoints","OgvJS","_Tech","options","ready","_this","call","el_","src","source","setIfAvailable","autoplay","loop","poster","preload","on","canvas","getElementsByTagName","style","removeProperty","triggerReady","_proto","createEl","options_","el","className","tag","play","playbackRate","setPlaybackRate","val","hasOwnProperty","played","pause","paused","currentTime","setCurrentTime","seconds","log","duration","Infinity","buffered","volume","setVolume","percentAsDecimal","muted","setMuted","defaultMuted","width","offsetWidth","height","offsetHeight","videoWidth","videoHeight","_src","load","currentSrc","currentSource_","setPoster","url","setPreload","setAutoplay","controls","setControls","setLoop","seekable","seeking","ended","networkState","readyState","supportsFullScreen","error","Events","name","value","isSupported","supported","canPlayType","type","indexOf","canPlaySource","srcObj","canControlVolume","canMuteVolume","canControlPlaybackRate","supportsNativeTextTracks","supportsFullscreenResize","supportsProgressEvents","supportsTimeupdateEvents","forEach","_ref","key","obj","getValue","setter","set","defineProperty","enumerable","writable","configurable","get","defineLazyProperty","registerTech","define","amd","globalThis","self","videojsOgvjs"],"mappings":"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"}